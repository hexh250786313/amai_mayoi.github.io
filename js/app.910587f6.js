(function(t){function e(e){for(var a,r,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)r=i[l],o[r]&&d.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o={app:0},s=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-d26f9db6":"1dfb09b5","chunk-b26be974":"7697cecb","chunk-dbdbd460":"2df0bd83","chunk-129d0796":"0391aa42","chunk-2f9726f8":"68e5d9c1","chunk-3bfcb504":"3a0a58f2","chunk-3e776aa8":"a780ed08","chunk-1c3e5395":"c6327474"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-d26f9db6":1,"chunk-b26be974":1,"chunk-dbdbd460":1,"chunk-129d0796":1,"chunk-2f9726f8":1,"chunk-3bfcb504":1,"chunk-3e776aa8":1,"chunk-1c3e5395":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-d26f9db6":"f0a686b6","chunk-b26be974":"f5fdc02b","chunk-dbdbd460":"daa0cfb5","chunk-129d0796":"82931c67","chunk-2f9726f8":"f7902ee2","chunk-3bfcb504":"bf2150a1","chunk-3e776aa8":"ae9047e9","chunk-1c3e5395":"3ebcf6ef"}[t]+".css",o=c.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],f.parentNode.removeChild(f),n(s)},f.href=o;var g=document.getElementsByTagName("head")[0];g.appendChild(f)}).then(function(){r[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t),u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");s.type=a,s.request=r,n[1](s)}o[t]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"27bf":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"md-shop"}},[n("router-view"),n("Loading"),n("Tips"),n("Minicart")],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-overlay",{attrs:{id:"_loading",value:t.overlay}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},i=[],c={computed:{overlay:function(){return this.$store.state.loading}}},u=c,l=n("2877"),d=n("6544"),f=n.n(d),g=n("a797"),h=n("490a"),p=Object(l["a"])(u,s,i,!1,null,null,null),m=p.exports;f()(p,{VOverlay:g["a"],VProgressCircular:h["a"]});var v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{attrs:{id:"tips"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n  "+t._s(t.tipstext)+"\n  "),n("v-btn",{attrs:{color:"#1565C0",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n    Close\n  ")])],1)},b=[],S={computed:{tipstext:function(){return this.$store.state.tipstext},snackbar:{get:function(){return this.$store.state.snackbar},set:function(t){this.$store.state.snackbar=t}}}},w=S,y=(n("a9f0"),n("8336")),O=n("2db4"),k=Object(l["a"])(w,v,b,!1,null,"5549cb8c",null),_=k.exports;f()(k,{VBtn:y["a"],VSnackbar:O["a"]});var E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"minicart"}},[n("v-navigation-drawer",{staticStyle:{"border-radius":"8px 8px 0 0"},attrs:{temporary:"",app:"",touchless:"",bottom:"","hide-overlay":"",height:"205"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t.drawer?n("v-container",{staticStyle:{"padding-top":"8px"},attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"section1"},[n("v-icon",{attrs:{color:"#000"},on:{click:t.close}},[t._v("\n            mdi-chevron-down\n          ")])],1),n("v-col",{staticClass:"section2"},[t._v("\n          我的购物车\n        ")]),n("v-col",{staticClass:"section3"},[n("div",{on:{click:t.toCart}},[t._v("\n            转至购物车\n          ")])])],1),n("v-row",{staticStyle:{height:"21px"}},[n("v-col",{staticClass:"section4"},[n("strong",[t._v(t._s(t.cart[0].title))]),t._v(" 已添加到购物车！\n        ")])],1),n("v-row",{staticStyle:{width:"100vw",position:"absolute",left:"0"}},[n("v-col",{staticClass:"outer"},[n("ul",{staticClass:"slide-group"},[n("li",{staticStyle:{"list-style":"none","margin-right":"20px"}},[n("v-card",{staticClass:"ma-4",attrs:{height:"88",width:"128"}},[n("v-row",[n("v-col",{staticStyle:{padding:"0","border-right":"1px solid rgba(0,0,0,0.1)"},attrs:{cols:"6"}},[n("v-row",{staticStyle:{height:"64px"}},[n("v-list-item-avatar",{staticStyle:{margin:"0","border-radius":"8px 0 0 0"},attrs:{height:"64",width:"64"}},[n("v-img",{attrs:{src:t.cart[0].img}})],1)],1),n("v-row",{staticStyle:{height:"24px"}},[n("v-col",{staticClass:"newtitle"},[t._v("\n                        "+t._s(t.cart[0].title)+"\n                      ")])],1)],1),n("v-col",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","flex-wrap":"wrap"}},[n("v-avatar",{staticStyle:{border:"2px solid #1976D2"},attrs:{size:"40"},on:{click:t.cancel}},[n("v-icon",{attrs:{color:"#1976D2"}},[t._v("\n                        mdi-delete\n                      ")])],1),n("span",{staticStyle:{color:"#1976D2","font-size":"0.9rem","font-weight":"bold"}},[t._v("移除")])],1)],1),n("v-overlay",{attrs:{absolute:"",value:t.aniflag,opacity:"1",color:"#fff"}},[n("v-progress-circular",{staticStyle:{color:"#1976D2"},attrs:{indeterminate:""}})],1)],1)],1),t._l(t.cart.slice(1,t.cart.length),function(e,a){return n("li",{key:a,staticStyle:{"list-style":"none","margin-right":"12px"}},[n("v-card",{staticClass:"ma-4",attrs:{height:"88",width:"64"}},[n("v-img",{staticClass:"white--text",attrs:{height:"64",width:"64",src:e.img}}),n("v-card-text",{staticClass:"cardtext"},[t._v("\n                  "+t._s(e.title)+"\n                ")])],1)],1)}),n("li",{staticStyle:{"list-style":"none"}},[n("div",{staticStyle:{width:"8px"}})])],2)])],1)],1):t._e()],1)],1)},T=[],C=n("5118"),x={data:function(){return{aniflag:!0}},computed:{drawer:{get:function(){return this.$store.state.drawer2},set:function(t){this.aniflag=!0,this.$store.state.drawer2=t}},cart:function(){var t=this.$store.state.cart.cartgoods,e=t.concat();return e.reverse()}},beforeUpdate:function(){var t=this;Object(C["setTimeout"])(function(){t.aniflag=!1},2e3)},methods:{toCart:function(){var t=this;this.overlay=!1,this.$store.state.loading=!0,Object(C["setTimeout"])(function(){t.$store.state.loading=!1,t.$router.push("/cart")},1500)},close:function(){this.$store.state.drawer2=!this.$store.state.drawer2},cancel:function(){var t=this;this.aniflag=!0,Object(C["setTimeout"])(function(){t.$store.state.drawer2=!t.$store.state.drawer2,t.$store.commit("DELETE_CARTGOODS"),t.$store.state.tipstext="已从购物车移除",t.$store.state.snackbar=!0},2e3)}}},j=x,I=(n("d88b"),n("8212")),N=n("b0af"),A=n("99d9"),$=n("62ad"),D=n("a523"),P=n("132d"),J=n("adda"),V=n("8270"),L=n("f774"),R=n("0fd9"),G=Object(l["a"])(j,E,T,!1,null,"6406962d",null),M=G.exports;f()(G,{VAvatar:I["a"],VCard:N["a"],VCardText:A["b"],VCol:$["a"],VContainer:D["a"],VIcon:P["a"],VImg:J["a"],VListItemAvatar:V["a"],VNavigationDrawer:L["a"],VOverlay:g["a"],VProgressCircular:h["a"],VRow:R["a"]});var q={components:{Loading:m,Tips:_,Minicart:M}},U=q,H=(n("e859"),Object(l["a"])(U,r,o,!1,null,"63f29ffc",null)),B=H.exports,z=n("8c4f");a["a"].use(z["a"]);var K=function(t){return Promise.all([n.e("chunk-dbdbd460"),n.e("chunk-2f9726f8"),n.e("chunk-3bfcb504")]).then(function(){var e=[n("bb51")];t.apply(null,e)}.bind(this)).catch(n.oe)},F=function(t){return Promise.all([n.e("chunk-dbdbd460"),n.e("chunk-129d0796")]).then(function(){var e=[n("a55b")];t.apply(null,e)}.bind(this)).catch(n.oe)},X=function(t){return Promise.all([n.e("chunk-dbdbd460"),n.e("chunk-2f9726f8"),n.e("chunk-d26f9db6"),n.e("chunk-1c3e5395")]).then(function(){var e=[n("b789")];t.apply(null,e)}.bind(this)).catch(n.oe)},W=function(t){return Promise.all([n.e("chunk-dbdbd460"),n.e("chunk-2f9726f8"),n.e("chunk-3e776aa8")]).then(function(){var e=[n("7f82")];t.apply(null,e)}.bind(this)).catch(n.oe)},Q=function(t){return Promise.all([n.e("chunk-d26f9db6"),n.e("chunk-b26be974")]).then(function(){var e=[n("c84b")];t.apply(null,e)}.bind(this)).catch(n.oe)},Y=new z["a"]({mode:"history",base:"/",routes:[{path:"/",name:"首页",component:K},{path:"/login",name:"登录",component:F},{path:"/cart",name:"购物车",component:X,meta:{requireAuth:!0}},{path:"/departments",name:"专区",component:W},{path:"/detail/:id",name:"商品详情",component:Q}],scrollBehavior:function(t,e,n){return{x:0,y:0}}}),Z=n("c0d6"),tt=n("f309");a["a"].use(tt["a"]);var et=new tt["a"]({}),nt=(n("a481"),n("bc3a")),at=n.n(nt),rt=at.a.create();rt.defaults.baseURL="http://api.com",rt.defaults.timeout=5e3,rt.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",rt.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",rt.interceptors.request.use(function(t){return Z["a"].state.login.token&&(t.headers.Authorization="token ".concat(Z["a"].state.login.token)),t},function(t){return alert("网路错误，请稍后再试"),Promise.reject(t)}),rt.interceptors.response.use(function(t){return setTimeout(function(){},300),t},function(t){return t.response&&401===t.response.status&&(Z["a"].commit("CHANGE_TOKEN",0),alert("请重新登录"),Y.replace({path:"login",query:{redirect:Y.currentRoute.fullPath}})),Promise.reject(t)});var ot=rt;a["a"].config.productionTip=!1,a["a"].prototype.$api=ot,Y.beforeEach(function(t,e,n){t.meta.requireAuth?Z["a"].state.login.token?n():Y.push("/login"):n()}),new a["a"]({router:Y,store:Z["a"],vuetify:et,render:function(t){return t(B)}}).$mount("#app")},a9f0:function(t,e,n){"use strict";var a=n("27bf"),r=n.n(a);r.a},abec:function(t,e,n){},c0d6:function(t,e,n){"use strict";var a,r,o,s,i=n("2b0e"),c=n("2f62"),u=n("bd86"),l="CHANGE_TOKEN",d="SET_USER",f="SET_GOODS",g="SET_EVENTS",h="SET_FLAG",p="SET_FLAG_DEP",m="SET_CLASS",v="SET_SELECTED",b="SET_CARTGOODS",S="PUSH_CARTGOODS",w="DELETE_CARTGOODS",y="REMOVE_CARTGOODS",O="SET_SELECTEDGOODS",k="RESET_SELECTEDGOODS",_="SET_SUM",E="CHECKOUT",T={user:window.sessionStorage.getItem("user"),token:window.sessionStorage.getItem("token")},C=(a={},Object(u["a"])(a,l,function(t,e){t.token=e,window.sessionStorage.setItem("token",e)}),Object(u["a"])(a,d,function(t,e){t.user=e,window.sessionStorage.setItem("user",e)}),a),x={state:T,mutations:C},j={flag:window.sessionStorage.getItem("flag"),goods:function(){var t=JSON.parse(sessionStorage.getItem("goods"));return t||null}(),events:function(){var t=JSON.parse(sessionStorage.getItem("events"));return t||{}}()},I=(r={},Object(u["a"])(r,h,function(t,e){t.flag=e,window.sessionStorage.setItem("flag",e)}),Object(u["a"])(r,f,function(t,e){t.goods=e,window.sessionStorage.setItem("goods",JSON.stringify(e))}),Object(u["a"])(r,g,function(t,e){t.events=e,window.sessionStorage.setItem("events",JSON.stringify(e))}),r),N={state:j,mutations:I},A={flagdep:window.sessionStorage.getItem("flagdep"),class:function(){var t=JSON.parse(sessionStorage.getItem("class"));return t||{}}()},$=(o={},Object(u["a"])(o,p,function(t,e){t.flagdep=e,window.sessionStorage.setItem("flagdep",e)}),Object(u["a"])(o,m,function(t,e){t.class=e,window.sessionStorage.setItem("class",JSON.stringify(e))}),o),D={state:A,mutations:$},P={selected:null},J=Object(u["a"])({},v,function(t,e){t.selected=e,window.sessionStorage.setItem("selected",e)}),V={state:P,mutations:J},L=(n("1c4c"),n("ac6a"),n("5df3"),n("4f7f"),{cartgoods:function(){var t=JSON.parse(sessionStorage.getItem("cartgoods"));return t||[{id:0,img:"http://dummyimage.com/200x200/dec4e0/333.png",title:"每日邮报",onsale:100,type:"Type A",mount:1}]}(),selectedgoods:JSON.parse(sessionStorage.getItem("selectedgoods")),sum:JSON.parse(sessionStorage.getItem("sum"))}),R=(s={},Object(u["a"])(s,b,function(t){var e=t.cartgoods;window.sessionStorage.setItem("cartgoods",JSON.stringify(e))}),Object(u["a"])(s,S,function(t,e){t.cartgoods.push(e);var n=t.cartgoods;window.sessionStorage.setItem("cartgoods",JSON.stringify(n))}),Object(u["a"])(s,w,function(t){t.cartgoods.pop();var e=t.cartgoods;window.sessionStorage.setItem("cartgoods",JSON.stringify(e))}),Object(u["a"])(s,y,function(t,e){t.cartgoods.splice(e,1);var n=t.cartgoods;window.sessionStorage.setItem("cartgoods",JSON.stringify(n))}),Object(u["a"])(s,O,function(t,e){t.selectedgoods=e,window.sessionStorage.setItem("selectedgoods",JSON.stringify(e))}),Object(u["a"])(s,k,function(t){for(var e=t.cartgoods,n=[],a=0;a<e.length;a++)n[a]=e[a].id;var r=t.selectedgoods,o=new Set(r),s=Array.from(new Set(n.filter(function(t){return o.has(t)})));window.sessionStorage.setItem("selectedgoods",JSON.stringify(s)),t.selectedgoods=JSON.parse(sessionStorage.getItem("selectedgoods"))}),Object(u["a"])(s,_,function(t){var e=t.selectedgoods,n=t.cartgoods,a=new Set(e),r=Array.from(new Set(n.filter(function(t){return a.has(t.id)}))),o=0;r.forEach(function(t){o+=t.mount*t.onsale}),t.sum=o,window.sessionStorage.setItem("sum",JSON.stringify(o))}),Object(u["a"])(s,E,function(t){var e=t.selectedgoods,n=t.cartgoods,a=new Set(e),r=Array.from(new Set(n.filter(function(t){return!a.has(t.id)})));t.cartgoods=r,window.sessionStorage.setItem("cartgoods",JSON.stringify(r))}),s),G={state:L,mutations:R};i["a"].use(c["a"]);e["a"]=new c["a"].Store({state:{loading:!1,drawer:!1,drawer2:!1,snackbar:!1,dialog:!1,tipstext:"输入栏不能为空"},modules:{home:N,login:x,departments:D,detail:V,cart:G}})},d88b:function(t,e,n){"use strict";var a=n("f074"),r=n.n(a);r.a},e859:function(t,e,n){"use strict";var a=n("abec"),r=n.n(a);r.a},f074:function(t,e,n){}});
//# sourceMappingURL=app.910587f6.js.map